<!DOCTYPE html>
<html>
	<head>
		<title>Caleb's Logbook</title>
		<meta name='description' content='Page in project'/>
        <meta name='robots' content='noindex nofollow'/>
        <meta http-equiv='author' content='mgalle'/>
        <meta http-equiv='pragma' content='no-cache'/>
		
		<link href='/css/logbook.css' type='text/css' rel='stylesheet'/>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	</head>
	<body>
		<div id="page" class="container">
		
			<h1>Welcome To Caleb's Logbook</h1>
			<ul>
				<li><a href='#week1'>Week 1</a></li>
				<li><a href='#week2'>Week 2</a></li>
				<li><a href='#week3'>Week 3</a></li>
				<li><a href='#week4'>Week 4</a></li>
				<li><a href="#week5">Week 5</a></li>
				
			</ul>

			<h2 id='week1'>Week 1</h2>
			<ul>
				<li>Set up Project Plan, dividing tasks equally and according to experience</li>
				<li>Added the project plan to the Confluence page for review and discussed it with team-mates</li>
				<li>Attempted STM32 HAL programming using STM32CubeMx and Atollic TrueSTUDIO but it didn't work</li>
			</ul>
			
			<h2 id='week2'>Week 2</h2>
			<ul>
				<li>
					Tested CAN interface on local STM32:
					<ol>
						<li>Finished setting up the CAN interface using the STM32 HAL introduction document from eConestoga (using STM32CubeIDE this time)</li>
						<li>Looked online to find how to run in loopback mode</li>
						<li>Tested the CAN interface by experimenting with filters</li>
						<li>
							Recorded a 
							<a href="../video.html#canHalDemo">video</a> 
							of it working
						</li>
						<li>
							Added the code to a separate 
							<a href="https://www.github.com/choeksema/Nucleo-F303RE_HAL_CAN" target=_blank title="Open repository in new tab">repository</a> 
							on Github
						</li>
					</ol>
				</li>
				<li>Updated project plan as per last week's debrief</li>
				<li>Tested the VNC connection to the Raspberry Pi</li>
			</ul>

			<h2 id='week3'>Week 3</h2>
			<ul>
				<li>Investigated Sabbath Mode</li>
				<ul>
					<li>Not sure if we should have an overall on/off command for Sabbath mod, especially if Sabbath mode ignores regular commands so still reaches all the floors consistently</li>
					<li>At least 3 options for operation:</li>
					<ol>
						<li>Stop at each floor up and down</li>
						<li>Stop at alternate floors up and down</li>
						<li>Rise all the way to the top and stop at each floor when going down only</li>
					</ol>
					<li>Overall process:</li>
					<ol>
						<li>Check time and date</li>
						<li>If the Sabbath, move to the first floor and then start following the chosen procedure (one of those listed above) while ignoring regular commands</li>
						<li>If not the Sabbath, wait for user input</li>
					</ol>
				</ul>
				<li>Investigated the database</li>
				<ul>
					<li>The database already exists with implemented controls and C++/PHP code for interacting with the database. Do we use this or write our own?</li>
					<ul>
						<li>Plan to ask at debreif</li>
					</ul>
				</ul>
			</ul>

			<h2 id='week4'>Week 4</h2>
			<div class="row">
				<div class="col-sm-5 col-md-6">
					<ul>
						<li>Tried to implement an SSH terminal in the browser using "shellinabox"</li>
						<ul>
							<li>Hosted the connection from a local Linux through https and could run shell commands through the browser from another computer on the local Wifi network</li>
							<li>Tried to implement the service on the Pi in order to test over the VPN but the service would not start</li>
							<li>Next day when trying to run the service over local Wifi, the service refused to start no matter what I tried</li>
							<li>Started looking into passing commands through JavaScript from the browser but that may not be possible since it seems that JavaScript is isolated from the system for security reasons</li>
						</ul>
						<li>Updated the project plan based on last week's feedback</li>
						<li>Updated the elevator control FSM based on feedback from last week</li>
					</ul>
				</div>
				<div class="col-sm-5 col-md-6">
					<img src="../images/FSM_W4.png" alt="Week 4 FSM revision" width="400">
				</div>
			</div>

			<h2 id='week4'>Week 5</h2>
			<div class="row">
				<div class="col-sm-5 col-md-6">
					<ul>
						<li>As per last week's debrief (not in the logbook though), I added a terminal to the project website diagnostics page. The project we used is available <a href="https://github.com/nickola/web-console" target="_blank">here</a>.</li>
						<li>Looked into using the embedded SSH terminal on the diagnostics page for file editing</li>
						<ul>
							<li>It won't work as it is since it isn't an open connection</li>
							<li>Webpages time out every <i>x</i> seconds</li>
							<li>There might be permissions issues. Having <i>sudo</i> permissions available on the website can be dangerous if people outside the project sign into the terminal. If we kept the website behind a sign-in page where new users could not create an account without permission/confirmation, you could get around this issue. </li>
						</ul>
						<li>Updated the elevator control FSM based on feedback from last week</li>
					</ul>
				</div>
				<div class="col-sm-5 col-md-6">
					<img src="../images/FSM_W5.png" alt="Week 5 FSM revision" width="300">
				</div>
			</div>

			<hr>

			<p><a href="/about.html">Return</a></p>
		</div>
	</body>
</html>




