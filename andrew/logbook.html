<!DOCTYPE html>
<html>
	<head>
		<title>Andrew Logbook</title>
		<meta name='description' content='Page in project'/>
        <meta name='robots' content='noindex nofollow'/>
        <meta http-equiv='author' content='mgalle'/>
        <meta http-equiv='pragma' content='no-cache'/>
		
		<link href='/css/logbook.css' type='text/css' rel='stylesheet'/>
	</head>
	<body>
	<IMG SRC="tenor.gif">

	<h1>Welcome to Andrew's Logbook</h1>
	<ul>
		<li><a href='#week1'>Week 1</a></li>
		<li><a href='#week2'>Week 2</a></li>
		<li><a href="#week3">Week 3</a></li>
		<li><a href="#week4">Week 4</a></li>
		<li><a href="#week5">Week 5</a></li>
		<li><a href="#week6">Week 6</a></li>
		<li><a href="#week7">Week 7</a></li>
		<li><a href="#week8">Week 8</a></li>
		<li><a href="#week9">Week 9</a></li>
		<li><a href="#week10">Week 10</a></li>
		<li><a href="#week11">Week 11</a></li>




	</ul>

	<h2 id='week1'>Week 1</h2>
	
	<h3> Tasks: </h3>
	<ul>
		<li>Created a confluence page to store all the teams information and methods. This helped streamline the teams development environment	so we can share our tips and tricks to work effecitvley.</li>
		<li>Wrote a guide on how to use WSL for ssh, as well as how to access the VPN from the command line and make vpn aware commands. This allows a user to ssh into the pi using a single command and automates the start and the stop of the vpn </li>
		<li>Worked on ensuring XAMPP worked correctly in WSL, added an information to confluence that documents my testing process for WSL, as	well as how to update WSL to use the newest version with grpahics capability</li>
		<li>Working to create a git repo that has all development tools so it can be easily deployed by different group members, considering  the possiblity of using containerization </li>
		<li>Starting to learn and get comfortable with CAN protocols</li>
		<li>Researching if I can use GDB with NUCLEO STMF303RE</li>
		<li>Met with group members to discuss the Gantt chart, we might make adjustments in the future to ensure division of work. </li>
	</ul>

	<h2 id='week2'>Week 2</h2>

	<h3> Tasks: </h3>
	<ul>
		<li>Researched finite state machine implmentations using event handlers, so I can help Greg </li>
		<li>Worked on updating HTML for the my logbook</li>
		<li>Setting up the STM32F303 HAL and CAN loopback, so I can aid in Caleb's embedded work</li>
		<li>Starting to learn and get comfortable with CAN protocols</li>
		<li>Researching if I can use GDB with NUCLEO STMF303RE</li>
		<li>Reading the PCAN C++ code on the Raspberry Pi looking at how the pi is sending and reciving CAN messgages</li>
		<li>Reading through the libcan library because I wan't to know what the library is actully doing!</li>
	</ul>

	
<h2 id='week3'>Week 3</h2>
	<h3>Tasks:</h3>
	<ul>
		<li>Worked on recreating the functional system Diagram (reworked for COVID)</li>
		<li>Worked on creating new graphical assets for the GUI design, re-designed the GUI</li>
		<li>Researched functions for the diagnostics page, looked at possible implmentations</li>
		<li>Attempting to make requrirements documentation for the software design</li>
	</ul>
	<h3>Diagnostics Page Brainstorming:</h3>
	<ul>
		<li>Will read out the infromation about all critical infastructure of the elevator project. Will tell user if the database is offline, or if stream is offline, or if communications 
withe CAN controller are down</li>
		<li>Will allow user to see the all the latest CAN updates from each NODE (effectivley showing all the most up to date information in the database) May be worthwhile to display a 
history of messages that the supervisory controller has read. For example all CAN message updates in the database can be stored in a link list that will allow a user to see the complete communication 
history on the CAN bus. (Not sure if the database can take care of this functionaliity yet)</li>
		<li>Will allow user to commuicate to a supervisory program on the pi runinning under C++, the supervisory program is a seperate proccess from the FSM and shares a share memory ipc 
allowing it to properly log the information of the FSM.
			It is necessary to be a seperate process as it will also gather relevant data from other parts of the pi (still figuring out what process is are worth logging)</li>
		<li>Possbile things the supervisory process can capture log information from are</li>
			<ul>
				<li>CAN Bus information from the FSM</li>
				<li>Database status</li>
				<li>RTSP stram status</li>
				<li>Information on Linux services that can be used by the FSM, (audio service being used by the elevator speaker)</li>
			</ul>
		<li>The suprevisory program can also allow the website to access a list of diagnostic functions that could range from</li>
			<ul>
				<li>allowing a user to run commands on a terminal session from the pi remotely</li>
				<li>retrive data stdin from the terminal session and display on the webstie</li>
				<li>define a list of specialised diagnostic commands to reduce troubleshooting time (a.k.a simple commands to restart web server, update website, restart stream, 
restart database, push and display information from the database at will)</li>
				<li>Send custom CAN messages </li>
			</ul>
	</ul>
	<h2 id='week4'>Week 4</h2>
	<h3>Tasks:</h3>
	<ul>
		<li>Worked on learnning more html and CSS to help out with the website when needed</li>
		<li>Researched functions for the diagnostics page, looked at possible implmentations</li>
		<li>Starting to learn bootstrap for further aiding in the websites design</li>
	</ul>
	<h2 id='week5'>Week 5</h2>
	<h3>Tasks:</h3>
	<ul>
		<li>Created seperate project branch for the software assignment, this is being used to see if we want to merge new features developed in the assingment</li>
		<li>Worked on building bootstrap on top of Greg and Caleb's existing work, redesigned homepage and project detatils and logon</li>
		<li>Used the bootstrap header example as a reference for a possible new header design that can be incorporated into the project, it includes Caleb's time function that was developed for the assignmet</li>
		<li>Reading through the php Greg has created this week and trying to understand how we are looping in the mysql database on the website</li>
		<li>Setting up the necessary php and database information to run the current version of the website</li>


	</ul>
	<h2 id='HomePage'>New Homepage Demo</h2>
		<iframe src="https://www.youtube.com/watch?v=OO7LHTGFcRM" height="200" width="400" frameborder=0 allowfullscreen ng-show="showvideo"></iframe>
		

		<h2 id='week6'>Week 6</h2>
		<h3>Tasks:</h3>
		<ul>
			<li>Struggle to get mySQL on WSL (Approx 5 hours of debugging) </li>
			<li>Attempt to get the databases needed for the website working on my home pc</li>
			<li>Strat researching using tensorflow for a face detection application for the elevator</li>
			<li>Setup tensorflow on my PC and configure the correct Nvidia drivers to start using tensorflow</li>
			<li>Look at possible cloudbased options for tesnorflow to avoid having it run off of the pi</li>
			<li>How do you get a webcam working the browser? Looking at options to make that information available</li>
		</ul>

		
		<h2 id='week7'>Week 7</h2>
		<h3>Tasks:</h3>
		<ul>
			<li>Get my SQL working </li>
			<li>Work on learning sockets with php and c, these will work to update the website when there is an update to the database</li>
			<li>Using sockets to tell the website that the database has been updated, opens the door to a more asynch operation</li>
			<li>Learned how to embed a photo capture software into the browser page using .js this will allow for pictures of users to be added to be verified by our facial recognition system</li>
		</ul>

		<h2 id='week8'>Week 8</h2>
		<h3>Tasks:</h3>
		<ul>
			<li>Worked on adding the updated homepage to the website, as well as updated navigation bar</li>
			<li>Was going to work further on tcp sockets to tell website was updated, but Caleb had some big changes to c++ coming this week, so that has been pushed to next week</li>
			<li>The chart.js stuff has also been pushed as we are right now focusing on reworking our user statistics database</li>
			<li>Went through several hours of linkedin learning courses on opencv, and machine learning lectures</li>
			<li>Got facial detection working locally in python with the facial recognition library using Histogram of Gradients algorithm</li>
			<li>Debugged cmake file for the dlib machine learning library, to get it to correctly build for nvidia cuda support</li>
			<li>Got facial detection working with a convolutional neural network, with hardware acceleration </li>
			<li>Got facial landmark detection working with the histogram of gradients algorithm, in somewhat real time</li>
			<li><a href="https://www.youtube.com/watch?v=lByr3nZBr6s">Link to Demo</a></li>
		</ul>
		<h2 id='HomePage'>Facial Detection Demo</h2>
		<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/lByr3nZBr6s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>	
			<h2 id='week9'>Week 9</h2>
		<h3>Tasks:</h3>
		<ul>
			<li>Reworked the facial recognition framework, got facial landmark detection working using cnn instead of hog experineced massive performance gains</li>
			<li>Created a project ready camera app that is able to take pictures inside of the browser</li>
			<li>Learned how to send an AJAX request to a php server, so I can send the face photo as a png from the browser to php</li>
			<li>Configured php server that is able to receive photos from js and decode the data url and encode to a php image</li>
			<li>I then have the php file create a tcp socket to the python facial recognition server, and send the png of the face for processing</li>
			<li>Need to create a mysql database of all the facial encodings, might look into a hash table approach to speed the look up time of facial encodings, the hashing distance might be to extreme based on tolerances of the algo</li>
			<li>Need to send back response from the facial recognition server veryifying a users identity</li>
			<li>Experinceing windows tcp sockets being destroyed very quickly, need to look into what is happening, server should remain open for requests</li>
			<li>Need to find a way to possibly encrypt-media while being sent</li>
			</ul>

			
				<h2 id='week10'>Week 10</h2>
			<h3>Tasks:</h3>
			<ul>
			<li>Debugged TCP transmission issues, when img was being sent from the school packets were being lost</li>
			<li>Moved the python server to Linux to better debug issues with TCP packt transmission</li>
			<li>Created a port forwarding script for WSL, to allow packe transmission to server</li>
			<li>Made more tweaks to the GUI</li>
			<li>Analyzed ICMP messages for TCP issues using wireshark to debug the issue</li>
			<li>Added exception handling for the TCP server so it would stop randomly crashing</li>
			</ul>

			<h2 id='week11'>Week 10</h2>
			<h3>Tasks:</h3>
			<ul>
				<li>Fixed the TCP packet transmission issue by first sending the img size, and using a samll recv buffer</li>
				<li>Finsihed working on my facial recognition API for python, and started to bring the functionality into the server</li>
				<li>Worked on new HTML views for the server, to allow user to know if there picture was valid or invalid at the time of submission</li>
				<li>Researched the JS XMLHTttpRequest readstatechanges to make a dyamic layout for the camera-app, based on what stage the request was at</li>
				<li>Created the mySQL database to hold the facial encodings of each user</li>
				<li>Created a php function that check the database for a matching a user and then returns</li>
				<li>Reworked the server to send the facial encodings as a .json so they can easily be extracted and covnerted to an array</li>
				<li>Working on a function to compute the euclidean distance of two arrays</li>
				<li>Debugging floating point math operations in php to see if it is can properly computer vector norm of the facial encodings</li>

			</ul>

	<p><a href="/about.html">Return</a></p>


	</body>
</html>
